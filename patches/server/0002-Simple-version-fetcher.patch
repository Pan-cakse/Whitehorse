From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: VidTu <60929459+VidTu@users.noreply.github.com>
Date: Thu, 30 Mar 2023 09:34:56 +0300
Subject: [PATCH] Simple version fetcher


diff --git a/src/main/java/com/github/brominemc/whitehorse/WhitehorseVersionFetcher.java b/src/main/java/com/github/brominemc/whitehorse/WhitehorseVersionFetcher.java
new file mode 100644
index 0000000000000000000000000000000000000000..e31d85ea5c94b094cb53cbcbfc3f6da84415cedf
--- /dev/null
+++ b/src/main/java/com/github/brominemc/whitehorse/WhitehorseVersionFetcher.java
@@ -0,0 +1,18 @@
+package com.github.brominemc.whitehorse;
+
+import com.destroystokyo.paper.util.VersionFetcher;
+import net.kyori.adventure.text.Component;
+import net.kyori.adventure.text.format.NamedTextColor;
+import org.jetbrains.annotations.NotNull;
+
+public class WhitehorseVersionFetcher implements VersionFetcher {
+    @Override
+    public long getCacheTime() {
+        return Long.MAX_VALUE;
+    }
+
+    @Override
+    public @NotNull Component getVersionMessage(@NotNull String serverVersion) {
+        return Component.text("Whitehorse: ").append(Component.text(serverVersion, NamedTextColor.GREEN));
+    }
+}
diff --git a/src/main/java/org/bukkit/craftbukkit/util/CraftMagicNumbers.java b/src/main/java/org/bukkit/craftbukkit/util/CraftMagicNumbers.java
index 1dd7f923dd6adb41eafc3ea0c063e3aae6670124..63ecd6f477fe9c02ed1f6c31b584a155902fe41a 100644
--- a/src/main/java/org/bukkit/craftbukkit/util/CraftMagicNumbers.java
+++ b/src/main/java/org/bukkit/craftbukkit/util/CraftMagicNumbers.java
@@ -464,7 +464,7 @@ public final class CraftMagicNumbers implements UnsafeValues {
 
     @Override
     public com.destroystokyo.paper.util.VersionFetcher getVersionFetcher() {
-        return new com.destroystokyo.paper.PaperVersionFetcher(); // Purpur
+        return new com.github.brominemc.whitehorse.WhitehorseVersionFetcher(); // Purpur // Whitehorse
     }
 
     @Override
